{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "AVD Dev Environment Parameters",
  "type": "object",
  "required": [
    "location","hostPoolName","loadBalancingStrategy","hostCount","vmSize","adminUsername","adminPassword","baseImagePublisher","baseImageOffer","baseImageSku","workspaceName","appGroupName","remoteAppDisplayName","remoteAppCommandPath","entraIdGroupObjectId","vnetName","subnetName","subnetAddressPrefix"
  ],
  "properties": {
    "location": {"type": "string", "pattern": "^[a-z0-9]+$"},
    "hostPoolName": {"type": "string", "maxLength": 64},
    "loadBalancingStrategy": {"type": "string", "enum": ["BreadthFirst","DepthFirst"]},
    "maxSessionsPerHost": {"type": "integer", "minimum": 1, "default": 10},
    "hostCount": {"type": "integer", "minimum": 1, "default": 1},
    "vmSize": {"type": "string"},
    "adminUsername": {"type": "string", "minLength": 1},
    "adminPassword": {"type": "string", "minLength": 12},
    "baseImagePublisher": {"type": "string"},
    "baseImageOffer": {"type": "string"},
    "baseImageSku": {"type": "string"},
    "imageBuilderEnabled": {"type": "boolean", "default": true},
    "vscodeWingetId": {"type": "string", "default": "Microsoft.VisualStudioCode"},
    "imageNamePrefix": {"type": "string", "default": "devavd"},
    "workspaceName": {"type": "string", "maxLength": 64},
    "appGroupName": {"type": "string", "maxLength": 64},
    "remoteAppDisplayName": {"type": "string", "maxLength": 64},
    "remoteAppCommandPath": {"type": "string"},
    "entraIdGroupObjectId": {"type": "string", "pattern": "^[0-9a-fA-F-]{36}$"},
    "vnetName": {"type": "string", "maxLength": 64},
    "vnetAddressPrefixes": {"type": "array", "items": {"type": "string", "pattern": "^(?:\\d{1,3}\\.){3}\\d{1,3}\/\\d{1,2}$"}, "default": ["10.20.0.0/16"]},
    "subnetName": {"type": "string", "maxLength": 64},
    "subnetAddressPrefix": {"type": "string", "pattern": "^(?:\\d{1,3}\\.){3}\\d{1,3}\/\\d{1,2}$"},
    "registrationTokenExpirationHours": {"type": "integer", "minimum": 1, "default": 24}
  },
  "additionalProperties": false
}
